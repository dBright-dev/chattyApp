{% extends "base.html" %}

{% block content %}
<div id="login-page" class="page">
    <div class="login-container">
        <h1>Join Chat Room</h1>
        <form id="login-form">
            <div class="form-group">
                <label for="username">Username:</label>
                <input type="text" id="username" required minlength="2" maxlength="20">
            </div>
            <div class="form-group">
                <label for="room-id">Room ID:</label>
                <input type="text" id="room-id" value="general" required>
            </div>
            <button type="submit" id="join-btn">Join Chat</button>
        </form>
        <div id="connection-status" class="status disconnected">
            <span class="status-dot"></span>
            <span class="status-text">Disconnected</span>
        </div>
    </div>
</div>

<div id="chat-page" class="page hidden">
    <div class="chat-header">
        <div class="room-info">
            <h2>Room: <span id="current-room">general</span></h2>
            <span id="user-count">0 users online</span>
        </div>
        <button id="leave-btn">Leave Room</button>
    </div>
    
    <div class="chat-container">
        <div class="sidebar">
            <h3>Online Users</h3>
            <div id="users-list" class="users-list"></div>
        </div>
        
        <div class="chat-main">
            <div id="messages-container" class="messages-container"></div>
            
            <div class="typing-indicator hidden" id="typing-indicator">
                <span id="typing-text"></span>
                <div class="typing-dots">
                    <span></span>
                    <span></span>
                    <span></span>
                </div>
            </div>
            
            <form id="message-form" class="message-form">
                <input type="text" id="message-input" placeholder="Type your message..." required>
                <button type="submit">Send</button>
            </form>
        </div>
    </div>
</div>
{% endblock %}